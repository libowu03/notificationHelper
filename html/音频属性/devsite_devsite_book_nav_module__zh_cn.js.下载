(function(_ds){var window=this;'use strict';var EL=function(a,b){a.href=_ds.vh(b)},GL=function(){var a=_ds.P.call(this)||this;a.m=!1;a.h=null;a.eventHandler=new _ds.hl;a.C=function(){};a.j=new Set;a.background=document.createElement("div");a.background.classList.add("devsite-book-nav-bg");a.D=new Promise(function(b){a.C=b});a.o=new _ds.el(function(){FL(a)},20);return a},IL=function(a,b){b=Array.from((void 0===b?a:b).querySelectorAll(".devsite-nav-title"));a.j=new Set(b);if(_ds.Kj().hash){b=new _ds.BC;a=_ds.n(a.j);for(var c=a.next();!c.done;c=
a.next())_ds.DC(b,c.value)}else HL(a,a.j)},HL=function(a,b){_ds.N(a,function d(){var e=this,g,h,k,l,m,p,q;return _ds.C(d,function(t){if(1==t.h)return g=e,_ds.v(t,(0,_ds.kn)(),2);h=t.j;k=new _ds.BC;l=function(u){u=u.target;_ds.DC(k,u);g.j.delete(u);h.unregisterIntersectionForElement(u)};m=_ds.n(b);for(p=m.next();!p.done;p=m.next()){q=p.value;try{h.registerIntersectionForElement(q,l)}catch(u){l({target:q})}}_ds.w(t)})})},FL=function(a){var b=0<a.querySelectorAll(".devsite-nav-item").length,c=document.querySelector("#devsite-hamburger-menu");
c&&(b?c.removeAttribute("visually-hidden"):_ds.mn(a,"visually-hidden","",c))},ML=function(a){a.eventHandler.listen(a,"click",function(b){var c;if(!b.defaultPrevented){var d=b.target;"devsite-close-nav"===d.getAttribute("id")&&(b.preventDefault(),b.stopPropagation(),a.scrollTop=0,a.hasAttribute("top-level-nav")?a.dispatchEvent(new CustomEvent("devsite-sitemask-hide",{bubbles:!0})):_ds.mn(a,"top-level-nav",""));if(d.hasAttribute("menu")){var e=d.getAttribute("menu");e&&JL(a,e)&&(b.preventDefault(),
b.stopPropagation(),a.scrollTop=0,a.removeAttribute("top-level-nav"))}if(!(d.classList.contains("devsite-nav-toggle")||d.classList.contains("devsite-nav-title-no-path")||(null===(c=d.parentElement)||void 0===c?0:c.classList.contains("devsite-nav-title-no-path")))){a.h&&(b=a.h.querySelector("[menu=_book]"))&&b.contains(d)&&a.dispatchEvent(new CustomEvent("devsite-sitemask-hide",{bubbles:!0}));var g;d instanceof Element&&d.matches("a.devsite-nav-title")?g=d:g=_ds.Ii(d,"a","devsite-nav-title");g&&!g.classList.contains("devsite-nav-has-children")&&
a.dispatchEvent(new CustomEvent("devsite-sitemask-hide",{bubbles:!0}))}}});a.eventHandler.listen(a,[KL,"focusin"],function(b){return void LL(a,b)});a.eventHandler.listen(document.body,"devsite-sitemask-hidden",function(){a.h&&(JL(a,"_book")?a.removeAttribute("top-level-nav"):_ds.mn(a,"top-level-nav",""))});a.eventHandler.listen(document.body,"devsite-page-loaded",function(){return void a.o.va()});a.eventHandler.listen(a,"devsite-content-updated",function(){a.o.va()});a.eventHandler.listen(a,"scroll",
function(){return a.m=!0})},JL=function(a,b){var c=!1;if(a.h)for(var d=_ds.n(a.h.querySelectorAll("[menu]")),e=d.next();!e.done;e=d.next())e=e.value,e.getAttribute("menu")===b?(e.removeAttribute("hidden"),c=!0):_ds.mn(a,"hidden","",e);return c},LL=function(a,b){b.defaultPrevented||(b=_ds.Hi(b.target,function(c){return c instanceof HTMLAnchorElement&&c.hasAttribute("href")||c===a},!0),b!==a&&EL(b,_ds.Im(_ds.Rj(b.href).href)))},OL=function(a){return _ds.N(a,function c(){var d=this;return _ds.C(c,function(e){switch(e.h){case 1:return d.m=
!1,_ds.v(e,_ds.bk(),2);case 2:return _ds.v(e,NL(d),3);case 3:return _ds.v(e,d.D,4);case 4:return _ds.v(e,(0,_ds.kn)(),5);case 5:return _ds.v(e,_ds.bk(),6);case 6:return _ds.v(e,NL(d),0)}})})},PL=function(a,b){(b=void 0===b?a:b)||(b=a);var c=_ds.n(b.querySelectorAll(".devsite-nav-active"));for(a=c.next();!a.done;a=c.next())a.value.classList.remove("devsite-nav-active");a=_ds.gk(_ds.Kj().pathname);a='[href="'+_ds.Rj(a).href+'"], [href="'+a+'"],\n        [alt-paths~="'+a+'"]';b=_ds.n(b.querySelectorAll(a));
for(a=b.next();!a.done;a=b.next())a.value.classList.add("devsite-nav-active")},QL=function(a,b){(b=void 0===b?a:b)||(b=a);var c=b.querySelector(".devsite-mobile-nav-bottom");if(c)for(var d=c.querySelector(".devsite-nav-active");d&&d.parentElement&&d.parentElement!==b;)d.hasAttribute("collapsed")&&(d.removeAttribute("animatable"),_ds.ll(a.eventHandler,d,"devsite-expandable-nav-transition-end",function(){d&&_ds.mn(a,"animatable","",d)}),d.removeAttribute("collapsed")),d=d.parentElement},NL=function(a){return _ds.N(a,
function c(){var d=this,e;return _ds.C(c,function(g){if(1==g.h)return d.h?_ds.v(g,(0,_ds.kn)(),2):g.return();if(4!=g.h)return(e=d.h.querySelector(".devsite-nav-active"))?d.m?g.G(4):_ds.v(g,RL(d,e),4):g.G(0);_ds.mn(d,"animatable","");_ds.w(g)})})},RL=function(a,b){return _ds.N(a,function d(){var e=this,g,h;return _ds.C(d,function(k){if(1==k.h)return g=e.m,h=_ds.Bl(b,e,!0),e.scrollTop=h.y,_ds.v(k,_ds.bk(),2);e.m=g;_ds.w(k)})})},SL=function(a){return _ds.N(a,function c(){var d,e=this,g,h,k;return _ds.C(c,
function(l){if(1==l.h)return _ds.v(l,(0,_ds.kn)(),2);d=l.j;g=_ds.n(e.j);for(h=g.next();!h.done;h=g.next())k=h.value,d.unregisterIntersectionForElement(k);_ds.w(l)})})},TL=_ds.wa(["animatable"]),UL=_ds.wa(["fixed"]),VL=_ds.wa(["has-book-nav"]),WL=_ds.wa(["hidden"]),XL=_ds.wa(["top-level-nav"]),YL=_ds.wa(["visually-hidden"]),KL="onpointerover"in window?"pointerover":"mouseover";_ds.r(GL,_ds.P);_ds.f=GL.prototype;
_ds.f.connectedCallback=function(){return _ds.N(this,function b(){var c=this;return _ds.C(b,function(d){if(1==d.h)return c.Ka(c.X(TL),c.X(UL),c.X(VL),c.X(WL),c.X(XL),c.X(YL)),_ds.ai(c.background,c),FL(c),ML(c),_ds.v(d,c.init(),2);IL(c);_ds.w(d)})})};_ds.f.disconnectedCallback=function(){_ds.nl(this.eventHandler);SL(this);this.j.clear();var a=document.querySelector("#devsite-hamburger-menu");a&&_ds.mn(this,"visually-hidden","",a);this.background&&_ds.di(this.background);this.removeAttribute("animatable")};
_ds.f.attributeChangedCallback=function(a){if("hidden"===a){var b=this.hasAttribute("hidden");this.dispatchEvent(new CustomEvent(b?"devsite-element-hidden":"devsite-element-visible",{bubbles:!0}));var c=document.querySelector(".devsite-main-content");c&&(b?c.removeAttribute("has-book-nav"):_ds.mn(this,"has-book-nav","",c))}if("fixed"===a||"hidden"===a)b=this.hasAttribute(a),this.background&&(b?_ds.mn(this,a,"",this.background):this.background.removeAttribute(a));"fixed"===a&&this.C()};
_ds.f.init=function(a){a=void 0===a?!0:a;return _ds.N(this,function c(){var d=this,e,g,h;return _ds.C(c,function(k){if(1==k.h){d.h=d.querySelector(".devsite-mobile-nav-bottom");!d.hasAttribute("hidden")&&d.h&&d.h.querySelector(".devsite-nav-active")||_ds.mn(d,"animatable","");_ds.mn(d,"top-level-nav","");d.h&&d.h.querySelector("[menu=_book]")&&d.removeAttribute("top-level-nav");0===d.children.length&&_ds.mn(d,"hidden","");if(d.background)for(e=_ds.n(["hidden","fixed"]),g=e.next();!g.done;g=e.next())h=
g.value,d.hasAttribute(h)&&_ds.mn(d,h,"",d.background);return!d.hasAttribute("hidden")&&a?(PL(d),QL(d),_ds.v(k,OL(d),0)):_ds.v(k,_ds.bk(),4)}return _ds.v(k,NL(d),0)})})};
_ds.f.Pa=function(a){return _ds.N(this,function c(){var d=this,e;return _ds.C(c,function(g){switch(g.h){case 1:if(!a){_ds.$h(d);g.G(2);break}d.removeAttribute("animatable");e=a.querySelector("nav")||null;PL(d,e);QL(d,e);if(!e){g.G(3);break}return _ds.v(g,SL(d),4);case 4:d.j.clear(),IL(d,e);case 3:_ds.nn(d,d.querySelector("nav"),e);case 2:return _ds.v(g,_ds.bk(),5);case 5:return _ds.v(g,d.init(!1),0)}})})};
_ds.la.Object.defineProperties(GL,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["hidden","fixed"]}}});GL.prototype.updateContent=GL.prototype.Pa;GL.prototype.attributeChangedCallback=GL.prototype.attributeChangedCallback;GL.prototype.disconnectedCallback=GL.prototype.disconnectedCallback;GL.prototype.connectedCallback=GL.prototype.connectedCallback;try{window.customElements.define("devsite-book-nav",GL)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteBookNav",a)};})(_ds_www);
