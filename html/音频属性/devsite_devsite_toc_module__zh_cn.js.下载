(function(_ds){var window=this;'use strict';var HY=function(a){var b=a.tq,c=a.xo,d=a.Ym;a=a.Ro;var e='<ul class="devsite-nav-list" role="navigation" aria-label="'+_ds.dz("\u76ee\u5f55");e+='" scrollbars><li class="devsite-nav-item devsite-nav-heading devsite-toc-toggle" role="heading" aria-level="2"><span class="devsite-nav-title"><span class="devsite-nav-text">\u76ee\u5f55</span></span>';c&&(e=e+'<button type="button" title="'+_ds.dz("\u5c55\u5f00/\u6536\u8d77\u5185\u5bb9"),e+='" class="devsite-nav-show-all button-transparent material-icons"></button>');
e+="</li>";for(var g=b.length,h=0;h<g;h++){var k=b[h];e+='<li class="devsite-nav-item"'+(c&&k.index<a?" visible":"")+'><a href="#'+_ds.Z(k.id)+'" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="'+(c?"Embedded nav":"Right nav")+'" data-value="'+_ds.Z(h)+'" track-type="navigation" track-name="'+(c?"embeddedNav":"rightNav")+'" track-metadata-position="'+_ds.Z(h)+'" track-metadata-link-destination="#'+_ds.Z(k.id)+'"><span class="devsite-nav-text" tooltip>'+
_ds.Y(k.text)+"</span></a>";if(_ds.Yy(k.children).length){e+='<ul class="devsite-nav-list">';k=k.children;for(var l=k.length,m=0;m<l;m++){var p=k[m];e+='<li class="devsite-nav-item"'+(c&&p.index<a?" visible":"")+'><a href="#'+_ds.Z(p.id)+'" class="devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-action="click" data-label="'+(c?"Embedded nav":"Right nav")+'" data-value="'+_ds.Z(h)+"."+_ds.Z(m)+'" track-type="navigation" track-name="'+(c?"embeddedNav":"rightNav")+'" track-metadata-position="'+
_ds.Z(h)+"."+_ds.Z(m)+'" track-metadata-link-destination="#'+_ds.Z(p.id)+'"><span class="devsite-nav-text" tooltip>'+_ds.Y(p.text)+"</span></a></li>"}e+="</ul>"}e+="</li>"}d&&(e=c?e+'<li class="devsite-nav-item devsite-apix-link"><a href="#try-it" class="devsite-nav-title"><span class="devsite-nav-text" tooltip>\u8bd5\u7528</span></a></li>':e+'<button type="button" class="devsite-show-apix button-primary">\u8bd5\u8bd5\u770b\uff01</button>');c&&(e=e+'<li class="devsite-toc-toggle"><button type="button" class="button-flat devsite-nav-more-items material-icons" track-type="navigation" track-name="embeddedNavExpand" title="'+
_ds.dz("\u5c55\u5f00/\u6536\u8d77\u5185\u5bb9"),e+='" aria-hidden="true"></button></li>');return(0,_ds.U)(e+"</ul>")},KY=function(){var a=_ds.P.call(this)||this;a.h=!1;a.j=[];a.K=!1;a.H=new _ds.hl;a.m=null;a.Z=[];a.Y=0;a.J=[];a.O=new _ds.el(function(){return IY(a)},16);a.M=new _ds.el(function(){return JY(a)},33);a.C=null;a.L=new _ds.ol;a.D=new Set;a.F=new Map;a.o=null;return a},LY=function(a){a.h||a.H.listen(document.body,"devsite-content-updated devsite-element-hidden devsite-element-visible devsite-page-loaded devsite-sticky-resize devsite-sticky-scroll".split(" "),
function(){return a.M.va()});a.H.listen(document.body,"devsite-content-updated",function(){IY(a)})},MY=function(a){var b,c,d;_ds.ab(function(e){switch(e.h){case 1:if(!("IntersectionObserver"in _ds.Th())){e.G(2);break}a.C&&a.C.disconnect();b=document.querySelector("devsite-header");c=152;if(!b){e.G(3);break}return _ds.v(e,window.customElements.whenDefined("devsite-header"),4);case 4:(d=parseFloat(b.getAttribute("top-row--height")||0)+parseFloat(b.getAttribute("bottom-row--height")||0))&&(c=d);case 3:a.C=
new IntersectionObserver(function(g){g=_ds.n(g);for(var h=g.next();!h.done;h=g.next())h=h.value,h.isIntersecting?a.D.add(h.target):a.D.delete(h.target);a.M.va()},{rootMargin:c+"px 0px 0px 0px",threshold:[0,1]});case 2:a.L.resolve(),_ds.w(e)}})},NY=function(a){_ds.$h(a);a.dispatchEvent(new CustomEvent("devsite-element-hidden",{bubbles:!0}));a.removeAttribute("visible");a.setAttribute("hidden","");a.h||(a=document.querySelector(".devsite-main-content"))&&a.removeAttribute("has-toc")},OY=function(a){a.dispatchEvent(new CustomEvent("devsite-element-visible",
{bubbles:!0}));a.removeAttribute("hidden");a.setAttribute("visible","");if(!a.h){var b=document.querySelector(".devsite-main-content");b&&b.setAttribute("has-toc","");MY(a)}},JY=function(a){return _ds.ab(function(b){if(1==b.h)return _ds.v(b,PY(a),2);if(a.m){var c="#"+a.m.id,d=encodeURI(c);c=a.F.get(c)||a.F.get(d);a.o!==c&&(a.o&&a.o.classList.remove("devsite-nav-active"),c&&(c.classList.add("devsite-nav-active"),a.o=c))}_ds.w(b)})},IY=function(a){if(!a.hasAttribute("disabled")){var b=document.querySelector("devsite-content .devsite-article-body");
b?(a.h?a.classList.add("devsite-toc-embedded"):a.classList.add("devsite-toc"),QY(a,b),a.K=!0,a.h||(RY(a),SY(a))):NY(a)}},QY=function(a,b){var c,d,e,g,h,k,l,m,p,q;_ds.ab(function(t){c=[];d=!1;a.j=[].concat(_ds.xa(b.querySelectorAll("h2:not(.hide-from-toc):not(#contents):not(#table-of-contents), h3:not(.hide-from-toc):not(#contents):not(#table-of-contents)"))).filter(function(u){return u.id&&u.dataset.text}).filter(function(u){return TY(u)});e=_ds.n(a.j.entries());for(g=e.next();!g.done;g=e.next())h=
g.value,k=_ds.n(h),l=k.next().value,m=k.next().value,p={id:m.id,level:m.tagName.toLowerCase(),text:m.dataset.text,children:[],index:l},"h2"===p.level?(c.push(p),d=!0):d?c[c.length-1].children.push(p):c.push(p);if((q=_ds.Mb(a.J,c,a.Ui.bind(a)))&&a.K)return t.return();c.length?(UY(a,c),OY(a),a.h||VY(a)):NY(a);a.J=c;a.h||(RY(a),SY(a),a.dispatchEvent(new CustomEvent("devsite-toc-updated",{bubbles:!0})));_ds.w(t)})},PY=function(a){var b,c,d,e,g,h,k;return _ds.ab(function(l){switch(l.h){case 1:b=0;c=document.querySelector("devsite-header");
if(!c){l.G(2);break}return _ds.v(l,window.customElements.whenDefined("devsite-header"),3);case 3:b=c.m+c.j-c.h;case 2:d=a.j.findIndex(function(m){return a.D.has(m)&&m.getBoundingClientRect().top>=b});e=a.j[d];if(!e){a.m&&a.m.getBoundingClientRect().top>window.innerHeight&&(g=a.j.indexOf(a.m),0<g&&(a.m=a.j[g-1]));l.G(0);break}return _ds.v(l,WY(),5);case 5:h=l.j,k=e.getBoundingClientRect().top-b,a.m=k>h&&0<d?a.j[d-1]:e,_ds.w(l)}})},WY=function(){var a,b,c,d;return _ds.ab(function(e){if(1==e.h)return b=
a=0,(c=document.querySelector("devsite-header"))?_ds.v(e,window.customElements.whenDefined("devsite-header"),3):e.G(2);2!=e.h&&(a=c.m+c.j-c.h,b=Number(c.getAttribute("top-row--height"))+Number(c.getAttribute("bottom-row--height")));d=window.innerHeight-a;return e.return(Math.max(b-a,Math.floor(d/5)))})},VY=function(a){var b,c,d;_ds.ab(function(e){if(1==e.h)return _ds.v(e,a.L.promise,2);if(!a.C)return e.return();a.C.disconnect();a.D.clear();a.o&&a.o.classList.remove("devsite-nav-active");a.o=null;
b=_ds.n(a.j);for(c=b.next();!c.done;c=b.next())d=c.value,a.C.observe(d);_ds.w(e)})},TY=function(a){return _ds.tH.find(function(b){return!!_ds.Ji(a,b,6)})||_ds.Ii(a,"devsite-selector",null,6)||_ds.Ji(a,"devsite-dialog",3)?!1:!0},UY=function(a,b){var c=_ds.Nz(HY,{tq:b,xo:a.h,Ym:!!document.body.querySelector("devsite-apix, .devsite-apix"),Ro:5});b=_ds.n(c.querySelectorAll("a.devsite-nav-title"));for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=d.hash,g=encodeURI(d.hash);a.F.set(e,d);a.F.set(g,
d)}_ds.$h(a);a.h&&c.setAttribute("hidden","");a.appendChild(c);a.h&&(8<=a.getElementsByClassName("devsite-nav-item").length&&(Array.from(a.querySelectorAll(".devsite-nav-show-all, .devsite-nav-more-items")).forEach(function(h){a.H.listen(h,"click",function(){a.hasAttribute("expanded")?a.removeAttribute("expanded"):a.setAttribute("expanded","")})}),a.setAttribute("expandable","")),setTimeout(function(){c.removeAttribute("hidden")},0))},SY=function(a){var b=a.getAttribute("offset")||0;(a=a.querySelector(".devsite-nav-list"))&&
_ds.rl(a,"transform","translate3d(0, -"+b+"px, 0)")},RY=function(a){var b=a.getAttribute("max-height")||0;(a=a.querySelector(".devsite-nav-list"))&&_ds.rl(a,"max-height",b+"px")};_ds.r(KY,_ds.P);_ds.f=KY.prototype;_ds.f.connectedCallback=function(){this.h=this.hasAttribute("devsite-toc-embedded");IY(this);LY(this)};_ds.f.disconnectedCallback=function(){NY(this);this.K=!1;_ds.nl(this.H)};_ds.f.attributeChangedCallback=function(a){switch(a){case "offset":SY(this);break;case "max-height":RY(this)}};_ds.f.$g=function(a){a=a&&"false"===a.toLowerCase();this.J=[];_ds.$h(this);a?(this.setAttribute("disabled",""),NY(this)):(this.removeAttribute("disabled"),OY(this),this.O.va())};
_ds.f.Ui=function(a,b){var c=!0;if(a.children.length||b.children.length)c=_ds.Mb(a.children,b.children,this.Ui.bind(this));return c&&a.id===b.id&&a.text===b.text};_ds.la.Object.defineProperties(KY,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["max-height","offset"]}}});KY.prototype.renderUpdatedContent=KY.prototype.$g;KY.prototype.attributeChangedCallback=KY.prototype.attributeChangedCallback;KY.prototype.disconnectedCallback=KY.prototype.disconnectedCallback;
KY.prototype.connectedCallback=KY.prototype.connectedCallback;try{window.customElements.define("devsite-toc",KY)}catch(a){console.warn("devsite.app.customElement.DevsiteToc",a)};})(_ds_www);
