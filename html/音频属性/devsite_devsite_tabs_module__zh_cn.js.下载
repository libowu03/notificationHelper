(function(_ds){var window=this;'use strict';var SX=function(a){var b=a.kh;a=a.Wm;for(var c='<div class="dropdown-tabbed-menu"><ul class="dropdown-tabbed-menu-list">',d=a.length,e=0;e<d;e++){var g=a[e];c+='<li class="dropdown-tabbed-menu-list-item"><a href="#" column-id="'+_ds.Z(g.Ti)+'" tabindex="0" track-type="navMenu" track-metadata-eventdetail="'+_ds.Z(g.text)+'" track-name="'+_ds.Z(b)+'" track-metadata-href="#'+_ds.Z(g.Ti)+'" track-metadata-position="nav - secondary" track-metadata-module_headline="'+_ds.Z(b)+'">'+_ds.Y(g.text)+
"</a></li>"}return(0,_ds.U)(c+"</ul></div>")},TX=function(a){var b=a.kh,c=a.href;a=a.text;return(0,_ds.U)('<div class="dropdown-tabbed-menu-button"><a href="'+_ds.Z(_ds.zz(c))+'" track-type="navMenu" track-name="'+_ds.Z(b)+'" track-metadata-eventdetail="'+_ds.Z(a)+'" track-metadata-href="'+_ds.Z(c)+'" track-metadata-position="nav - secondary" track-metadata-module_headline="'+_ds.Z(b)+'">'+_ds.Y(a)+"</a></div>")},VX=function(){var a=_ds.P.call(this)||this;a.L=null;a.K=!1;a.H=new _ds.hl;a.j=new _ds.hl;
a.h=null;a.Y=null;a.C=null;a.D=null;a.M=0;a.m=[];a.F=0;a.o=null;a.J=new _ds.el(function(){UX(a)},20);return a},dY=function(a){a.H.listen(document.body,"devsite-sticky-resize",function(){return a.J.va()});a.H.listen(a,"click",function(e){if(!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var g=e.target,h=WX(a,g);if(h)if(a.o&&a.o(e))e.preventDefault(),e.stopPropagation();else if(h===a.h)XX(a,e);else if(YX(a),g.classList.contains("devsite-tabs-dropdown-toggle"))e.preventDefault(),e.stopPropagation(),
h.hasAttribute("dropdown--open")?ZX(a):$X(a,h);else{var k;"A"===g.tagName?k=g:k=_ds.Ii(g,"A");var l=h.querySelector(".devsite-tabs-dropdown");if(l&&l.contains(g))k&&k.hasAttribute("href")||(e.preventDefault(),e.stopPropagation());else{if(e=a.L||a.querySelector("[active]"))e.removeAttribute("active"),e.setAttribute("aria-selected","false");h.setAttribute("active","");h.setAttribute("aria-selected","true");a.L=h;k&&k&&"#"!==k.href||a.J.va()}}}});if(a.querySelector("tab[dropdown]")||a.querySelector("tab[overflow-tab]")){var b=
"onpointermove"in window?"pointerover":"mouseover",c="onpointermove"in window?"pointerleave":"mouseleave",d=a.querySelectorAll("tab[clickable]");if(d.length){b=_ds.n(d);for(c=b.next();!c.done;c=b.next())a.H.listen(c.value,"click",function(e){var g=e.target,h=WX(a,g),k=h.querySelector(".devsite-tabs-dropdown");!k||a.h.contains(g)||k.contains(g)||(e.preventDefault(),e.stopPropagation(),h.hasAttribute("dropdown--open")?ZX(a):aY(a,e))});a.H.listen(document.body,"click",function(e){a.D.contains(e.target)||
ZX(a)})}else a.H.listen(a,b,function(e){return void bY(a,e)}),a.H.listen(a,c,function(){return void cY(a)})}Array.from(a.querySelectorAll(".devsite-tabs-close-button")).forEach(function(e){a.H.listen(e,"click",function(){return ZX(a)})})},cY=function(a){return _ds.ab(function(b){if(1==b.h)return _ds.v(b,DevsiteApp.whenReady(),2);if(DevsiteApp.isTouchEnabled())return b.return();ZX(a,300);_ds.w(b)})},bY=function(a,b){return _ds.ab(function(c){if(1==c.h)return _ds.v(c,DevsiteApp.whenReady(),2);if(DevsiteApp.isTouchEnabled())return c.return();
aY(a,b);_ds.w(c)})},aY=function(a,b){var c=b.target,d=WX(a,c);d&&(d===a.h||a.h.contains(c)?XX(a,b):$X(a,d))},ZX=function(a,b){b=void 0===b?0:b;_ds.nl(a.j);window.clearTimeout(a.F);var c=a.querySelector("tab[dropdown--open]");if(c){var d=c.querySelector(".devsite-tabs-dropdown");d.setAttribute("dropdown-transition","");_ds.ll(a.j,d,_ds.aG,function(){d.removeAttribute("dropdown-transition");a.removeAttribute("dropdown--open");d.setAttribute("hidden","")});a.F=window.setTimeout(function(){c.removeAttribute("dropdown--open");
eY(c)},b)}else a.removeAttribute("dropdown--open");YX(a)},$X=function(a,b){var c,d,e,g,h,k,l,m,p,q;_ds.ab(function(t){if(1==t.h){YX(a);if(!b.hasAttribute("dropdown"))return ZX(a),t.return();_ds.nl(a.j);window.clearTimeout(a.F);return b.hasAttribute("dropdown--open")?t.return():_ds.v(t,DevsiteApp.whenReady(),2)}DevsiteApp.isTouchEnabled()&&_ds.ll(a.j,document.body,"click",function(u){a.contains(u.target)||ZX(a)});c=a.querySelector("tab[dropdown--open]");d=b.querySelector(".devsite-tabs-dropdown");
if(!d)return c&&(c.removeAttribute("dropdown--open"),eY(c)),t.return();d.removeAttribute("hidden");_ds.rl(d,"left","");e=_ds.Oh(window||window);g=Array.from(d.querySelectorAll(".devsite-tabs-dropdown-column"));!b.hasAttribute("dropdown-full")&&1<g.length&&(h=[],g.forEach(function(u){h.push(u.scrollWidth)}),k=Math.max.apply(null,h),l=k*g.length,l<e.width?g.forEach(function(u){_ds.rl(u,"width",k+"px")}):b.setAttribute("dropdown-full",""));m=d.getBoundingClientRect();b.hasAttribute("dropdown-full")?
_ds.rl(d,"left","-"+m.left+"px"):(p=Math.min(m.left,m.left+m.width-e.width),0<p&&_ds.rl(d,"left","-"+p+"px"));c?(c.removeAttribute("dropdown--open"),eY(c),q=c.querySelector(".devsite-tabs-dropdown"),q.removeAttribute("dropdown-transition"),q.setAttribute("hidden","")):(d.setAttribute("dropdown-transition",""),_ds.ll(a.j,d,_ds.aG,function(){return d.removeAttribute("dropdown-transition")}));window.requestAnimationFrame(function(){a.setAttribute("dropdown--open","");b.setAttribute("dropdown--open",
"");eY(b)});_ds.w(t)})},WX=function(a,b){for(;b&&b!==a;){if("TAB"===b.tagName.toUpperCase())return b;b=b.parentElement}return null},XX=function(a,b){var c;_ds.ab(function(d){if(1==d.h)return b.preventDefault(),b.stopPropagation(),document.body.dispatchEvent(new CustomEvent("devsite-close-overflow-tabs")),_ds.v(d,_ds.bk(),2);if(3!=d.h)return a.hasAttribute("overflow-menu--open")?d.return():_ds.v(d,DevsiteApp.whenReady(),3);DevsiteApp.isTouchEnabled()&&(c=function(e){a.contains(e.target)||YX(a);_ds.ml(a.j,
document.body,["devsite-close-overflow-tabs","click"],c)},a.j.listen(document.body,["devsite-close-overflow-tabs","click"],c));a.C.removeAttribute("hidden");a.setAttribute("overflow-menu--open","");_ds.w(d)})},YX=function(a){a.C.setAttribute("hidden","");a.removeAttribute("overflow-menu--open")},UX=function(a){a.h.setAttribute("hidden","");if(!(3>a.m.length)){var b=fY(a);if(0!==b){var c=a.m.slice(),d=0,e;c.forEach(function(m){m.parentNode!==a.D&&(e?_ds.bi(m,e):_ds.ci(a.D,m,0));e=m;d+=fY(m)});if(!(d<=
b)){var g=a.M;a.h.removeAttribute("hidden");var h=a.querySelector("[active]");for(h&&(g+=fY(h));c.length;){var k=c.shift();if(k!==h){var l=fY(k);g+l<=b?g+=l:a.C.appendChild(k)}}}}}},gY=function(a){a.m=Array.from(a.querySelectorAll("tab"));var b=a.querySelector(".devsite-tabs-wrapper");b||(b=a.ownerDocument.createElement("div"),b.classList.add("devsite-tabs-wrapper"),a.appendChild(b),a.m.forEach(function(e){return b.appendChild(e)}));a.D=b;a.appendChild(b);if(!a.hasAttribute("no-overflow")){var c=
a.ownerDocument.createElement("tab");c.setAttribute("overflow-tab","");var d=a.ownerDocument.createElement("a");_ds.Id(d,"#");d.textContent="\u66f4\u591a";d.classList.add("devsite-icon");d.classList.add("devsite-icon-arrow-drop-down");c.appendChild(d);a.h=c;d=a.ownerDocument.createElement("div");d.classList.add("devsite-tabs-overflow-menu");d.setAttribute("scrollbars","");d.setAttribute("hidden","");a.C=d;c.appendChild(d);b.appendChild(c)}},fY=function(a){if(!a)return 0;for(var b=[],c=a;c.parentElement&&
0==c.offsetWidth;)b.push(c),c.setAttribute("render-hidden",""),c=c.parentElement;a=_ds.Cl(a).width;b=_ds.n(b);for(c=b.next();!c.done;c=b.next())c.value.removeAttribute("render-hidden");return a},eY=function(a){a.querySelector(".devsite-tabs-dropdown-toggle").setAttribute("aria-expanded",a.hasAttribute("dropdown--open"))},hY=function(a){return _ds.ab(function(b){return 1==b.h?_ds.v(b,DevsiteApp.whenReady(),2):DevsiteApp.isTouchEnabled()||!a.hasAttribute("generated-tab-menu")?b.return(!1):b.return(!0)})},
kY=function(a){a.m.forEach(function(b,c){var d,e,g,h,k,l,m,p;return _ds.ab(function(q){if(1==q.h)return _ds.v(q,hY(b),2);d=q.j;if(!d)return q.return();e=Array.from(b.querySelectorAll(".devsite-tabs-dropdown-column"));g=b.querySelector(".devsite-tabs-dropdown");h=b.querySelector("a");e.forEach(function(t,u){t.setAttribute("column-id","tab-"+c+"-column-"+u)});k=e.map(function(t){var u=t.querySelector(".devsite-nav-title")||t.querySelector(".devsite-nav-item-title");return{Ti:t.getAttribute("column-id"),
text:u.textContent}});h&&(l=_ds.Nz(SX,{kh:h.textContent,Wm:k}),g&&(m=b.querySelector(".devsite-tabs-dropdown-content")))&&(g.insertBefore(l,m),p=b.querySelector(".dropdown-tabbed-menu a"),iY(b),a.H.listen(l,"click",function(t){t.preventDefault();var u=b.querySelector(".dropdown-tabbed-menu-button");t=t.target;u&&t.tagName&&"a"===t.tagName.toLowerCase()&&!u.contains(t)&&jY(b,t.getAttribute("column-id"))}),p&&jY(b,p.getAttribute("column-id")));_ds.w(q)})})},jY=function(a,b){var c=Array.from(a.querySelectorAll(".devsite-tabs-dropdown-column"));
a=Array.from(a.querySelectorAll(".dropdown-tabbed-menu a"));a.forEach(function(d){return d.removeAttribute("active")});c.forEach(function(d){return d.setAttribute("hidden","")});a=a.find(function(d){return d.getAttribute("column-id")===b});c=c.find(function(d){return d.getAttribute("column-id")===b});a&&c&&(a.setAttribute("active",""),c.removeAttribute("hidden"))},iY=function(a){var b=a.querySelector(".dropdown-tabbed-menu-button-target");if(!a.querySelector(".dropdown-tabbed-menu-button")&&b){var c=
a.querySelector("a");c&&(c=c.textContent,b=b.querySelector(".devsite-nav-item a"),a=a.querySelector(".dropdown-tabbed-menu"),b&&(c=_ds.Nz(TX,{kh:c,href:b.getAttribute("href"),text:b.textContent}),a.appendChild(c)))}};_ds.r(VX,_ds.P);VX.prototype.disconnectedCallback=function(){_ds.nl(this.H);_ds.nl(this.j)};VX.prototype.connectedCallback=function(){this.K||(gY(this),this.K=!0);this.setAttribute("connected","");this.hasAttribute("no-overflow")||(this.h.setAttribute("collapsed",""),this.M=fY(this.h),this.h.removeAttribute("collapsed"),dY(this),UX(this));kY(this)};VX.prototype.O=function(a){this.o=a};VX.prototype.Z=function(){this.o=null};VX.prototype.connectedCallback=VX.prototype.connectedCallback;
VX.prototype.disconnectedCallback=VX.prototype.disconnectedCallback;try{window.customElements.define("devsite-tabs",VX)}catch(a){console.warn("devsite.app.customElement.DevsiteTabs",a)};})(_ds_www);
